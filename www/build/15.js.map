{"version":3,"sources":["../../src/pages/previous-order/previous-order.module.ts","../../src/pages/previous-order/previous-order.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PreviousOrderPage } from './previous-order';\nimport { HeaderComponentModule } from '../../components/header/header.module';\n\n@NgModule({\n  declarations: [\n    PreviousOrderPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PreviousOrderPage),\n    HeaderComponentModule\n  ],\n})\nexport class PreviousOrderPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/previous-order/previous-order.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, AlertController } from 'ionic-angular';\nimport { Storage } from \"@ionic/storage\";\nimport { ServiceProvider } from '../../providers/service/service';\n/**\n * Generated class for the PreviousOrderPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-previous-order',\n  templateUrl: 'previous-order.html',\n})\nexport class PreviousOrderPage {\n\tpreviousOrders : any = [];\n  userId: any;\n  sessionId: any;\n  requisitionType: any;\n  noRecord: boolean = false;\n  error: any = '';\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, private storage: Storage, public serviceProvider: ServiceProvider,\n    private alertCtrl: AlertController) {\n  \tthis.requisitionType = navParams.get('reqType');\n    // this.previousOrders = [{'date': '27/08/2019', 'tableData': [{'order': 'Order 533', 'quantity': '2x', 'item': 'Rausch GG', 'items': '120344'},\n  \t// {'order': '', 'quantity': '5x', 'item': 'I Frati', 'items': '12032'},\n  \t// {'order': '', 'quantity': '3x', 'item': 'Kiedrich Turmberg', 'items': '12039'},\n  \t// {'order': 'Order 533', 'quantity': '1x', 'item': 'Rausch GG', 'items': '120344'}]},\n  \t// {'date': '26/08/2019', 'tableData': [{'order': 'Order 531', 'quantity': '1x', 'item': 'Rausch GG', 'items': '120344'},\n  \t// {'order': '', 'quantity': '2x', 'item': 'Johannisberg', 'items': '12022'},\n  \t// {'order': '', 'quantity': '11x', 'item': 'Chavignol', 'items': '120333'},\n  \t// {'order': '', 'quantity': '2x', 'item': 'Pinot Grigio', 'items': '120344'}]},\n  \t// {'date': '25/08/2019', 'tableData': [{'order': 'Order 533', 'quantity': '2x', 'item': 'Rausch GG', 'items': '120344'},\n  \t// {'order': 'Order 533', 'quantity': '2x', 'item': 'Rausch GG', 'items': '120344'}]}]\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PreviousOrderPage');\n    this.storage.get(\"userData\").then(userData => {\n      // console.log(\"userData breakage\", userData);\n      this.userId = userData.response.user_id;\n      this.sessionId = userData.response.sessionId;\n      this.getPrevOrderData();\n    });\n  }\n\n  getPrevOrderData() {\n    this.error = '';\n    console.log(\"get order data\");\n    let OprevrderObj = {\n      \"user_id\": this.userId,\n      \"session_id\": this.sessionId,\n      \"type\": this.requisitionType\n    }\n    this.serviceProvider.previousOrderApi(OprevrderObj).then(data => {\n      console.log('previousOrderApi', data);\n      if(data[\"success\"] == 0){\n        this.noRecord = true;\n        this.error = data[\"message\"];\n      } else if(data[\"success\"] == 1) {\n        this.noRecord = false;\n        this.error = '';\n        this.previousOrders = data[\"response\"];\n        console.log(\"this.previousOrders\", this.previousOrders);\n        \n      } else if(data[\"success\"] == 2) {\n        this.noRecord = false;\n        this.error = data[\"message\"];\n      } else if(data['success'] == 4) {\n        this.error = '';\n        this.noRecord = false;\n        let alert = this.alertCtrl.create({\n          subTitle: data[\"message\"],\n          cssClass: 'newsFeedAlertCss',\n          buttons: [\n            {\n              text: 'OK',\n              handler: () => {\n                this.navCtrl.push(\"LoginPage\");\n              }\n            }\n          ]\n        });\n        alert.present();\n      }else {\n      }\n    },\n    err => {\n      console.log(\"this.error\" +JSON.stringify(err))\n    });\n  }\n\n  closePreviousOrder(){\n    this.viewCtrl.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/previous-order/previous-order.ts"],"sourceRoot":""}