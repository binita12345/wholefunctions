{"version":3,"sources":["../../src/pages/register/register.module.ts","../../src/pages/register/register.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RegisterPage } from './register';\n\n@NgModule({\n  declarations: [\n    RegisterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RegisterPage),\n  ],\n})\nexport class RegisterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, ActionSheetController, Platform } from 'ionic-angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { EmailValidator } from '../../validators/email';\nimport { ServiceProvider } from '../../providers/service/service';\nimport { Loader } from \"../../providers/loader/loader\";\nimport { Alert } from \"../../providers/alert/alert\";\nimport { Storage } from '@ionic/storage';\nimport { Device } from '@ionic-native/device';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\n/**\n * Generated class for the RegisterPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\ninterface deviceInterface {\n  token?: string,\n  platform?: string\n};\n@IonicPage()\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n})\nexport class RegisterPage {\n\n\tpublic signUpFrom: FormGroup;\n\terror: any = '';\n  public deviceInfo: deviceInterface = {};\n  base64Image: any = 'assets/imgs/camera.png';\n  image: any;\n  private _htmlProperty: string = \"<span name=\\\"checkmark\\\" style=\\\"display:inline-block;font-family:Ionicons;color:#02EA25;font-size:40px;padding-top:15px;\\\" class=\\\"icon icon-md ion-md-checkmark\\\"></span>\";\n  constructor(public navCtrl: NavController, public navParams: NavParams, private formBuilder: FormBuilder, public serviceProvider: ServiceProvider, private device: Device,\n    private alert: Alert, private loader: Loader, private storage: Storage, private alertCtrl: AlertController, private _sanitizer: DomSanitizer, public actionSheetCtrl: ActionSheetController,\n    public platform: Platform, private camera: Camera) {\n    this.deviceInfo.platform = this.device.platform;\n    this.deviceInfo.token = this.device.uuid;\n   \n  \tthis.signUpFrom = formBuilder.group({\n        firstname: ['', Validators.compose([Validators.required])],\n        lastname: ['', Validators.compose([Validators.required])],\n        dateofbirth: ['', Validators.compose([Validators.required])],\n        position: ['', Validators.compose([Validators.required])],\n        email: ['', Validators.compose([Validators.required, EmailValidator.isValid])],\n        password: ['', Validators.compose([Validators.minLength(6), Validators.required])]\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad RegisterPage');\n  }\n\n  choosePhoto() {\n      console.log(\"choose photo option\");\n        let actionSheet = this.actionSheetCtrl.create({\n            title: 'Option',\n            cssClass: 'action-sheets-basic-page',\n            buttons: [\n                {\n                    text: 'Take photo',\n                    role: 'destructive',\n                    icon: !this.platform.is('ios') ? 'ios-camera-outline' : null,\n                    handler: () => {\n                        this.takephoto();\n                    }\n                },\n                {\n                    text: 'Choose photo from Gallery',\n                    icon: !this.platform.is('ios') ? 'ios-images-outline' : null,\n                    handler: () => {\n                        this.openGallery();\n                    }\n                },\n            ]\n        });\n        actionSheet.present();\n    }\n\n    takephoto() {\n      console.log(\"choose photo option to take photo\");\n        const options: CameraOptions = {\n            quality: 100,\n            destinationType: this.camera.DestinationType.DATA_URL,\n            encodingType: this.camera.EncodingType.PNG,\n            mediaType: this.camera.MediaType.PICTURE,\n            correctOrientation: true\n        }\n\n        this.camera.getPicture(options).then((imageData) => {\n            // imageData is either a base64 encoded string or a file URI\n            // If it's base64:\n            this.image = imageData;\n            // console.log(\"take photo imagedata\" +JSON.stringify(imageData));\n            this.base64Image = 'data:image/png;base64,' + imageData;\n            // this.photos.push(this.base64Image);\n            // this.photos.reverse();\n        }, (err) => {\n            // Handle error\n        })\n    }\n\n    openGallery() {\n      console.log(\"choose photo option to select from gallary\");\n        const options: CameraOptions = {\n            quality: 100,\n            destinationType: this.camera.DestinationType.DATA_URL,\n            encodingType: this.camera.EncodingType.PNG,\n            mediaType: this.camera.MediaType.PICTURE,\n            sourceType: this.camera.PictureSourceType.SAVEDPHOTOALBUM,\n            correctOrientation: true\n        }\n\n        this.camera.getPicture(options).then((imageData) => {\n            // imageData is either a base64 encoded string or a file URI\n            // If it's base64:\n            this.image = imageData;\n            // console.log(\"gallary imagedata\" +JSON.stringify(imageData));\n            this.base64Image = 'data:image/png;base64,' + imageData;\n            // console.log(\"gallary base64Image\" +this.base64Image);\n        }, (err) => {\n            // Handle error\n        })\n    }\n\n  public htmlProperty() {\n    return this._sanitizer.bypassSecurityTrustHtml(this._htmlProperty);\n  }\n\n  signupUser() {\n  \tconsole.log(\"signup user\");\n    this.error = '';\n    this.loader.show(\"Creating your Account. Please Wait\");\n  \n    let signupObj = {\n      \"first_name\": this.signUpFrom.value.firstname,\n      \"last_name\": this.signUpFrom.value.lastname,\n      \"email\": this.signUpFrom.value.email,\n      \"current_position\": this.signUpFrom.value.position,\n      \"password\": this.signUpFrom.value.password,\n      \"deviceType\": this.deviceInfo.platform,\n      \"deviceToken\": this.deviceInfo.token,\n      \"profile_picture\": this.base64Image,\n      \"date_of_birth\": this.signUpFrom.value.dateofbirth,\n      \"experience\": '',\n      \"language\": ''\n    };\n\n      console.log(\"signupObj\" +JSON.stringify(signupObj));\n\n      window.localStorage.setItem('email', this.signUpFrom.value.email);\n      window.localStorage.setItem('password', this.signUpFrom.value.password);\n\n      this.serviceProvider.signupApi(signupObj).then((result) => {\n        console.log(\"result signup\" +JSON.stringify(result));\n        // this.loader.hide();\n        if(result[\"success\"] == 0) {\n          this.loader.hide();\n          this.alert.errorAlert(result[\"message\"]);\n\n        } else if(result[\"success\"] == 1) {\n          this.loader.hide();\n          let obj: any = result;\n          console.log(\"obj signin\" +JSON.stringify(obj));\n\n          let alert = this.alertCtrl.create({\n            title: <any>this.htmlProperty(),\n            subTitle: obj[\"message\"],\n            cssClass: 'newsFeedAlertCss',\n            buttons: [\n              {\n                text: 'OK',\n                handler: () => {\n                  this.serviceProvider.headers.append(\"Authorization\", obj.response.sessionId);\n                  this.storage.set(\"userData\", obj);\n                  this.storage.set(\"userId\", obj.response.user_id);\n                  this.storage.set(\"token\", obj.response.sessionId);\n                  this.navCtrl.push(\"LoginPage\");\n                }\n              }\n            ]\n          });\n          alert.present();\n        } else if(result[\"success\"] == 2) {\n          this.loader.hide();\n          this.alert.errorAlert(result[\"message\"]);\n          // this.alertFunction(result[\"message\"]);\n        } else {\n          this.loader.hide();\n        }\n      }, (err) => {\n        console.log(\"err signup\" +JSON.stringify(err));\n        // Error log\n      });\n    // }\n  }\n\n  backToLogin() {\n    console.log(\"already have an account\");\n    this.navCtrl.push(\"LoginPage\");\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts"],"sourceRoot":""}