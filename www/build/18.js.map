{"version":3,"sources":["../../src/pages/order-list-modal/order-list-modal.module.ts","../../src/pages/order-list-modal/order-list-modal.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OrderListModalPage } from './order-list-modal';\n\n@NgModule({\n  declarations: [\n    OrderListModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(OrderListModalPage),\n  ],\n})\nexport class OrderListModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/order-list-modal/order-list-modal.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, AlertController } from 'ionic-angular';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\nimport moment from 'moment';\nimport { Storage } from \"@ionic/storage\";\nimport { ServiceProvider } from '../../providers/service/service';\n/**\n * Generated class for the OrderListModalPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-order-list-modal',\n  templateUrl: 'order-list-modal.html',\n})\nexport class OrderListModalPage {\n\torderLists: any = [];\n\torderNo: any;\n\tsetDate: any;\n  userId: any;\n  sessionId: any;\n  requisitionType: any;\n\tprivate _htmlProperty: string = \"<span name=\\\"checkmark\\\" style=\\\"display:inline-block;font-family:Ionicons;color:#02EA25;font-size:40px;padding-top:15px;\\\" class=\\\"icon icon-md ion-md-checkmark\\\"></span>\";\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController,private alertCtrl: AlertController, private _sanitizer: DomSanitizer, \n    private storage: Storage, public serviceProvider: ServiceProvider) {\n    this.requisitionType = navParams.get('reqType');\n  \t\n  \tvar dateNtime = moment();\n  \tconsole.log(\"dateNtime\", dateNtime);\n  \tthis.setDate = moment(dateNtime).format('L hh:mm');\n  \tconsole.log(\"this.setDate\", this.setDate);\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad OrderListModalPage');\n    this.storage.get(\"userData\").then(userData => {\n      // console.log(\"userData breakage\", userData);\n      this.userId = userData.response.user_id;\n      this.sessionId = userData.response.sessionId;\n      this.getCartOrderData();\n    });\n  }\n\n  getCartOrderData() {\n    console.log(\"get order data\");\n    let orderCartObj = {\n      \"user_id\": this.userId,\n      \"session_id\": this.sessionId,\n      \"type\": this.requisitionType\n    }\n    this.serviceProvider.cartTableApi(orderCartObj).then(data => {\n      console.log('cartTableApi', data);\n      if(data[\"success\"] == 0){\n        // this.error = data[\"message\"];\n      } else if(data[\"success\"] == 1) {\n        // this.error = '';\n        this.orderLists = data[\"response\"];\n        // console.log(\"this.orderLists\", this.orderLists);\n        for(let orderNo of this.orderLists) {\n          // console.log(\"orderNo\", orderNo);\n          this.orderNo = orderNo.order_no;\n        }\n      } else if(data[\"success\"] == 2) {\n        // this.error = data[\"message\"];\n      } else if(data['success'] == 4) {\n        let alert = this.alertCtrl.create({\n          subTitle: data[\"message\"],\n          cssClass: 'newsFeedAlertCss',\n          buttons: [\n            {\n              text: 'OK',\n              handler: () => {\n                this.navCtrl.push(\"LoginPage\");\n              }\n            }\n          ]\n        });\n        alert.present();\n      }else {\n      }\n    },\n    err => {\n      console.log(\"this.error\" +JSON.stringify(err))\n    });\n  }\n\n  removeOrder(order) {\n    console.log(\"remove order\", order);\n    let remOrderObj = {\n      \"user_id\": this.userId,\n      \"session_id\": this.sessionId,\n      \"cart_item_id\": order.id\n    }\n    this.serviceProvider.removecartItemApi(remOrderObj).then(data => {\n      console.log('removecartItemApi', data);\n      if(data[\"success\"] == 0){\n        // this.error = data[\"message\"];\n      } else if(data[\"success\"] == 1) {\n        // this.error = '';\n        this.getCartOrderData();\n      } else if(data[\"success\"] == 2) {\n        // this.error = data[\"message\"];\n      } else if(data['success'] == 4) {\n        let alert = this.alertCtrl.create({\n          subTitle: data[\"message\"],\n          cssClass: 'newsFeedAlertCss',\n          buttons: [\n            {\n              text: 'OK',\n              handler: () => {\n                this.navCtrl.push(\"LoginPage\");\n              }\n            }\n          ]\n        });\n        alert.present();\n      }else {\n      }\n    },\n    err => {\n      console.log(\"this.error\" +JSON.stringify(err))\n    });\n  }\n\n  closeModal(){\n    this.viewCtrl.dismiss();\n  }\n\n  public htmlProperty() {\n    return this._sanitizer.bypassSecurityTrustHtml(this._htmlProperty);\n  }\n\n  placeOrder() {\n    console.log(\"place order\");\n    this.viewCtrl.dismiss();\n\n    let placeOrderObj = {\n      \"user_id\": this.userId,\n      \"session_id\": this.sessionId,\n      \"order_no\": this.orderNo,\n      \"type\": this.requisitionType\n    }\n    this.serviceProvider.orderApi(placeOrderObj).then(data => {\n      console.log('orderApi', data);\n      if(data[\"success\"] == 0){\n        // this.error = data[\"message\"];\n      } else if(data[\"success\"] == 1) {\n        let alert = this.alertCtrl.create({\n            title: <any>this.htmlProperty(),\n            subTitle: data[\"message\"],\n            message: 'Order No.' + this.orderNo + ' at ' + this.setDate,\n            cssClass: 'newsFeedAlertCss',\n        });\n        alert.present();\n        setTimeout(()=>{\n            alert.dismiss();\n            this.navCtrl.push(\"RequisitionPage\");\n        }, 4000);\n      } else if(data[\"success\"] == 2) {\n        // this.error = data[\"message\"];\n      } else if(data['success'] == 4) {\n        let alert = this.alertCtrl.create({\n          subTitle: data[\"message\"],\n          cssClass: 'newsFeedAlertCss',\n          buttons: [\n            {\n              text: 'OK',\n              handler: () => {\n                this.navCtrl.push(\"LoginPage\");\n              }\n            }\n          ]\n        });\n        alert.present();\n      }else {\n      }\n    },\n    err => {\n      console.log(\"this.error\" +JSON.stringify(err))\n    });\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/order-list-modal/order-list-modal.ts"],"sourceRoot":""}