{"version":3,"sources":["../../src/pages/profile-modal/profile-modal.module.ts","../../src/pages/profile-modal/profile-modal.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACG;AAUnD;IAAA;IAAqC,CAAC;IAAzB,sBAAsB;QARlC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,wEAAgB;aACjB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,wEAAgB,CAAC;aAC3C;SACF,CAAC;OACW,sBAAsB,CAAG;IAAD,6BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACZkB;AACgF;AAC5F;AACyB;AACC;AAEnE;;;;;GAKG;AAOH;IAQE,0BAAmB,OAAsB,EAAS,SAAoB,EAAS,SAA0B,EAAS,QAAwB,EAAU,OAAgB,EAC1J,SAA0B,EAAS,eAAgC,EAAU,UAAwB,EAAS,IAAoB,EAAU,GAAQ;QAD9J,iBAUC;QAVkB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,aAAQ,GAAR,QAAQ,CAAgB;QAAU,YAAO,GAAP,OAAO,CAAS;QAC1J,cAAS,GAAT,SAAS,CAAiB;QAAS,oBAAe,GAAf,eAAe,CAAiB;QAAU,eAAU,GAAV,UAAU,CAAc;QAAS,SAAI,GAAJ,IAAI,CAAgB;QAAU,QAAG,GAAH,GAAG,CAAK;QAFtJ,kBAAa,GAAW,6KAA6K,CAAC;QAG5M,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,kBAAQ;YACxC,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,QAAQ,CAAC,CAAC;YAC1C,KAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC;YACxC,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC;YAC7C,KAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,QAAQ,CAAC,eAAe,CAAC;YACpD,KAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,QAAQ,CAAC,UAAU,GAAG,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC;YAC/E,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YAAA,CAAC;QACtD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,yCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;IACjD,CAAC;IAED,gDAAqB,GAArB;QACC,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IACnC,CAAC;IAEM,uCAAY,GAAnB;QACE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,uBAAuB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACrE,CAAC;IAED,yCAAc,GAAd;QAAA,iBAsFC;QArFA,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QACpC,0BAA0B;QAC1B,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACxC,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;QAC3C,qCAAqC;QACrC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QACxB,IAAI,SAAS,GAAG;YACd,SAAS,EAAE,IAAI,CAAC,MAAM;YACtB,YAAY,EAAC,IAAI,CAAC,SAAS;SAC5B;QAED,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,KAAK,EAAE,iBAAiB;YACxB,OAAO,EAAE,+CAA+C;YACxD,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACP,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBAChC,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,KAAK;oBACX,OAAO,EAAE;wBACP,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;wBAC1B,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;wBACjC,KAAI,CAAC,eAAe,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;4BAEpD,EAAE,EAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gCAE1B,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oCAChC,QAAQ,EAAE,MAAM,CAAC,SAAS,CAAC;oCAC3B,QAAQ,EAAE,kBAAkB;oCAC5B,OAAO,EAAE;wCACP;4CACE,IAAI,EAAE,IAAI;4CACV,OAAO,EAAE;gDACP,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;gDAC1B,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;4CACjC,CAAC;yCACF;qCACF;iCACF,CAAC,CAAC;gCACH,OAAK,CAAC,OAAO,EAAE,CAAC;4BAClB,CAAC;4BAAC,IAAI,CAAC,EAAE,EAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gCACjC,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oCAChC,KAAK,EAAO,KAAI,CAAC,YAAY,EAAE;oCAC/B,QAAQ,EAAE,MAAM,CAAC,SAAS,CAAC;oCAC3B,QAAQ,EAAE,kBAAkB;oCAC5B,OAAO,EAAE;wCACP;4CACE,IAAI,EAAE,IAAI;4CACV,OAAO,EAAE;gDACP,KAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;gDACrB,KAAI,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;4CAC1C,CAAC;yCACF;qCACF;iCACF,CAAC,CAAC;gCACH,OAAK,CAAC,OAAO,EAAE,CAAC;4BAClB,CAAC;4BAAC,IAAI,CAAC,EAAE,EAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gCACjC,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oCAChC,QAAQ,EAAE,MAAM,CAAC,SAAS,CAAC;oCAC3B,OAAO,EAAE,CAAC,IAAI,CAAC;iCAChB,CAAC,CAAC;gCACH,OAAK,CAAC,OAAO,EAAE,CAAC;4BAClB,CAAC;4BAAC,IAAI,CAAC,EAAE,EAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gCACjC,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oCAChC,QAAQ,EAAE,MAAM,CAAC,SAAS,CAAC;oCAC3B,OAAO,EAAE,CAAC,IAAI,CAAC;iCAChB,CAAC,CAAC;gCACH,OAAK,CAAC,OAAO,EAAE,CAAC;4BAClB,CAAC;4BAAC,IAAI,CAAC,CAAC;4BAER,CAAC;wBACH,CAAC,EAAE,UAAC,GAAG;4BACL,OAAO,CAAC,GAAG,CAAC,eAAe,GAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;4BAClD,YAAY;wBACd,CAAC,CAAC,CAAC;oBAEL,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,qCAAU,GAAV;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IA3He;QAAf,yEAAS,CAAC,0DAAG,CAAC;kCAAM,0DAAG;iDAAC;IADd,gBAAgB;QAJ5B,wEAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;WACG;SAClC,CAAC;uKAS4B,iFAAiC,uEAA6B,8DAA0E;YAC/I,aAAyI;OATnJ,gBAAgB,CA8H5B;IAAD,CAAC;AAAA;SA9HY,gBAAgB,gB","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfileModalPage } from './profile-modal';\n\n@NgModule({\n  declarations: [\n    ProfileModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfileModalPage),\n  ],\n})\nexport class ProfileModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile-modal/profile-modal.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, ViewController, AlertController, MenuController, Nav, App} from 'ionic-angular';\nimport { Storage } from \"@ionic/storage\";\nimport { ServiceProvider } from '../../providers/service/service';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\nimport { LoginPage } from '../../pages/login/login';\n/**\n * Generated class for the ProfileModalPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-profile-modal',\n  templateUrl: 'profile-modal.html',\n})\nexport class ProfileModalPage {\n  @ViewChild(Nav) nav: Nav;\n  userId: any;\n  sessionId: any;\n  profilePic: any;\n  employeename: any;\n  position: any;\n  private _htmlProperty: string = \"<span name=\\\"checkmark\\\" style=\\\"display:inline-block;font-family:Ionicons;color:#02EA25;font-size:40px;padding-top:15px;\\\" class=\\\"icon icon-md ion-md-checkmark\\\"></span>\";\n  constructor(public navCtrl: NavController, public navParams: NavParams, public modalCtrl: ModalController, public viewCtrl: ViewController, private storage: Storage,\n    private alertCtrl: AlertController, public serviceProvider: ServiceProvider, private _sanitizer: DomSanitizer, public menu: MenuController, private app: App) {\n    this.storage.get(\"userData\").then(userData => {\n      console.log(\"userData profile\", userData);\n      this.userId = userData.response.user_id;\n      this.sessionId = userData.response.sessionId;\n      this.profilePic = userData.response.profile_picture;\n      this.employeename = userData.response.first_name + userData.response.last_name;\n      this.position = userData.response.current_position;;\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ProfileModalPage');\n  }\n\n  clickToGoSettingsPage() {\n  \tconsole.log(\"going to settings page\");\n    this.viewCtrl.dismiss();\n  \tthis.navCtrl.push(\"SettingsPage\");\n  }\n\n  public htmlProperty() {\n    return this._sanitizer.bypassSecurityTrustHtml(this._htmlProperty);\n  }\n\n  signOutFromApp() {\n  \tconsole.log(\"sign out from the app\");\n    // this.menu.enable(true);\n    window.localStorage.removeItem('email');\n    window.localStorage.removeItem('password');\n    // this.navCtrl.setRoot(\"LoginPage\");\n    this.viewCtrl.dismiss();\n    let logoutObj = {\n      \"user_id\": this.userId,\n      \"session_id\":this.sessionId,\n    }\n\n    let alert = this.alertCtrl.create({\n      title: 'Confirm logout?',\n      message: 'Are you sure you want to logout from the app?',\n      buttons: [\n        {\n          text: 'No',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Yes',\n          handler: () => {\n            console.log('ok clicked');\n            console.log(\"logout\", logoutObj);\n            this.serviceProvider.logOutApi(logoutObj).then((result) => {\n             \n              if(result['success'] == 4) {\n                \n                let alert = this.alertCtrl.create({\n                  subTitle: result[\"message\"],\n                  cssClass: 'newsFeedAlertCss',\n                  buttons: [\n                    {\n                      text: 'OK',\n                      handler: () => {\n                        console.log('ok clicked');\n                        this.navCtrl.push(\"LoginPage\");\n                      }\n                    }\n                  ]\n                });\n                alert.present();\n              } else if(result['success'] == 1) {\n                let alert = this.alertCtrl.create({\n                  title: <any>this.htmlProperty(),\n                  subTitle: result[\"message\"],\n                  cssClass: 'newsFeedAlertCss',\n                  buttons: [\n                    {\n                      text: 'OK',\n                      handler: () => {\n                        this.storage.clear();\n                        this.app.getRootNav().push(\"LoginPage\");\n                      }\n                    }\n                  ]\n                });\n                alert.present();\n              } else if(result['success'] == 2) {\n                let alert = this.alertCtrl.create({\n                  subTitle: result['message'],\n                  buttons: ['OK']\n                });\n                alert.present();\n              } else if(result['success'] == 0) {\n                let alert = this.alertCtrl.create({\n                  subTitle: result['message'],\n                  buttons: ['OK']\n                });\n                alert.present();\n              } else {\n\n              }\n            }, (err) => {\n              console.log(\"err logOutApi\" +JSON.stringify(err));\n              // Error log\n            });\n\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  closeModal(){\n    this.viewCtrl.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile-modal/profile-modal.ts"],"sourceRoot":""}