<!--
  Generated template for the LearningPlatformPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<header title="Learning Platform"> </header>

<ion-content class="paddingTop">
	<ion-toolbar class="toolbar-color">
    <ion-segment [(ngModel)]="learningplt" (ionChange)="onLearningPltChanged($event)" class="segment">
      <ion-segment-button value="study" class="segment-btn">
        STUDY
      </ion-segment-button>
      <ion-segment-button value="challenges" class="segment-btn">
        CHALLENGES
      </ion-segment-button>
      <ion-segment-button value="hcpoints" class="segment-btn">
        HC POINTS
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>

  <div *ngIf="ifStudySelected">
    <br/>
  	<ion-searchbar placeholder="Search" [(ngModel)]="searchstudy" (ionInput)="filterItems($event)" class="searchBar"></ion-searchbar>
  	<br/>
  	<h3 class="head">DEPARTMENT</h3>
		<ion-item class="itemBG" (click)="toGotoPlatform(platform)" *ngFor="let platform of platformLists;let idx = index;">
			<ion-thumbnail item-start class="thumbnailImg">
	      <img src="{{platform.image}}" class="dprtImg">
	    </ion-thumbnail>
	    <p class="para">{{platform.name}}</p>
    </ion-item>
  </div>
  <div *ngIf="ifChallengesSelected">
    <br/>
  	<ion-searchbar placeholder="Search" [(ngModel)]="searchstudy" (ionInput)="filterItems($event)" class="searchBar"></ion-searchbar>
    <div class="filterC">
      <h3 class="headP">FILTER</h3>
      <img src="assets/imgs/mydepartment/allcurrent.png" *ngIf="ifAllcurrent" (click)="getAllcurrentChallenge()" class="inout">
      <img src="assets/imgs/mydepartment/attending.png" *ngIf="ifAttending" (click)="getAttendingChallenge()" class="inout">
    </div>
    <ion-item>
      <button ion-button round class="chalengeBtn" (click)="createChallenges()" item-end>CREATE CHALLENGE</button>
    </ion-item>

    <ion-grid class="gridCss" *ngFor="let currentChal of challengeLists;let idx = index;">
      <ion-row>
        <ion-col col-1 col-xl-1 col-lg-1 class="col1" [ngClass]="{'bluebg' : attend == true}">
          <span class="spanP">{{currentChal.chalId}}</span>
        </ion-col>

        <ion-col col-11 col-xl-11 col-lg-11 class="col11">
          <ion-item class="lastBtns">
            <button ion-button round outline class="attendBtn" (click)="attendCurrentChallenge(currentChal)" item-end *ngIf="!attend">ATTEND</button>
            <button ion-button round class="deleteBtn" (click)="stopAttendenceChallenge(currentChal)" item-end *ngIf="attend">STOP ATTENDENCE</button>
            <button ion-button round class="deleteBtn" (click)="deleteCurrentChallenge(currentChal)" item-end>DELETE CHALLENGE</button>
          </ion-item>
          <h4>{{currentChal.chalName}}</h4>
          <ion-row class="radioRow">
            <ion-col col-6 col-xl-3 col-lg-3 class="radioCss">
              <p class="nameCss">By<br>
                <b class="boldName">{{currentChal.by}}</b>
              </p>
            </ion-col>
            <ion-col col-6 col-xl-3 col-lg-3 class="radioCss">
              <p class="nameCss">Duration<br>
                <b class="boldName">{{currentChal.duration}}</b>
              </p>
            </ion-col>
            <ion-col col-6 col-xl-3 col-lg-3 class="radioCss"> 
              <br/>
              <p class="nameCss">Hoscom Points<br>
                <b class="boldName">{{currentChal.points}}</b>
              </p>
            </ion-col>
            <ion-col col-6 col-xl-3 col-lg-3 class="radioCss">
              <p class="nameCss">Current Participants<br>
                <b class="boldName">{{currentChal.particcpants}}</b>
              </p>
            </ion-col>
          </ion-row>
          <h6 class="otherH">Description</h6>
          <p class="descP">{{currentChal.description}}</p>

        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <div *ngIf="ifHCPointsSelected">
    <br/>
    <div class="divHC">
      <div class="divText">
        You earned <br/>
        1270 <br/>
        HosCom Points.
      </div>
      <img src="assets/imgs/hcpoints.png" class="hcImg">
    </div>
    <div class="nextDiv">
      <h3 class="headP">In Detail</h3>
      <ion-grid>
        <ion-row class="rowHC" *ngFor="let detail of detailLists">
          <ion-col col-10 col-xl-10 col-lg-11 class="colLeft">
            {{detail.name}}
          </ion-col>
          <ion-col col-2 col-xl-2 col-lg-1 class="colRight">
            {{detail.points}}
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <div class="nextDiv">
      <h3 class="headP">Coupans List</h3>
      <ion-grid>
        <h5 class="head5">F&B</h5>
        <div class="divSub">
          <ion-row class="rowHC" *ngFor="let fnb of coupanLists[0].fnb">
            <ion-col col-10 col-xl-10 col-lg-11 class="colLeft">
              {{fnb.name}}
            </ion-col>
            <ion-col col-2 col-xl-2 col-lg-1 class="colRightCoupan">
              {{fnb.points}}
            </ion-col>
          </ion-row>
        </div>
        <h5 class="head5">SPA</h5>
        <div class="divSub">
          <ion-row class="rowHC" *ngFor="let spa of coupanLists[1].spa">
            <ion-col col-10 col-xl-10 col-lg-11 class="colLeft">
              {{spa.name}}
            </ion-col>
            <ion-col col-2 col-xl-2 col-lg-1 class="colRightCoupan">
              {{spa.points}}
            </ion-col>
          </ion-row>
        </div>
        <h5 class="head5">Others</h5>
        <div class="divSub">
          <ion-row class="rowHC" *ngFor="let others of coupanLists[2].others">
            <ion-col col-10 col-xl-10 col-lg-11 class="colLeft">
              {{others.name}}
            </ion-col>
            <ion-col col-2 col-xl-2 col-lg-1 class="colRightCoupan">
              {{others.points}}
            </ion-col>
          </ion-row>
        </div>
      </ion-grid>
    </div>
    <div class="nextDiv">
      <h3 class="headP">HosCom Certifications</h3>
      <div class="withscroll">
        <table>
          <thead>
            <tr>
              <th class="tableH1">Certification</th>
              <th class="tableH">Score</th>
              <th class="tableH">Date</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let certi of certiLists">
              <td class="tableB">{{certi.certification}}</td>
              <td class="tableB">{{certi.score}}</td>
              <td class="tableB">{{certi.date}}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <button ion-button round outline class="dwnloadBtn" (click)="downloadAll()">DOWNLOAD ALL</button>
    </div>
  </div>
  <div style="margin-top: 45px;height: 20px;"></div>
</ion-content>
