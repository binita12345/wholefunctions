<!--
  Generated template for the CreateNewBreakagePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<header title="My Department"> </header>

<ion-content class="paddingTop">
	<ion-item class="divCss">
		<ion-icon name="ios-arrow-back" class="iconCss" item-start (click)="backToListBreakage()"></ion-icon>
		<p class="pCss">BREAKAGE</p>
	</ion-item>

	<ion-grid class="gridCss">
		<p class="headP">New Breakage</p>
		<ion-searchbar placeholder="Search" [(ngModel)]="searchTerm" (ionInput)="filterItems($event)" class="searchBar"></ion-searchbar>
		<br/>
		<div >
			<ion-grid class="listGrid" *ngIf="breakageType == 'wine'">
				<ion-row class="listRow" *ngFor="let wine of wineLists;let idx = index" (click)="selectBreakage(wine)">
		  		<ion-col col-3 col-xl-3 col-lg-3 class="listCol">
		  			<img src="{{wine.image}}" class="listImg">
		  		</ion-col>

		  		<ion-col col-9 col-xl-9 col-lg-9 class="listcol5">
		  			<b>{{wine.name}}</b>
		  		</ion-col>
		  	</ion-row>
		  	<div class="listDiv" *ngIf="wineArray.length <= 0">
		  			{{errorWine}}
		  	</div>
	  	</ion-grid>

	  	<ion-grid class="listGrid" *ngIf="breakageType == 'china'">
				<ion-row class="listRow" *ngFor="let china of chinaLists;let idx = index" (click)="selectBreakage(china)">
		  		<ion-col col-3 col-xl-3 col-lg-3 class="listCol">
		  			<img src="{{china.image}}" class="listImg">
		  		</ion-col>

		  		<ion-col col-9 col-xl-9 col-lg-9 class="listcol5">
		  			<b>{{china.name}}</b>
		  		</ion-col>
		  	</ion-row>
		  	<div class="listDiv" *ngIf="chinaArray.length <= 0">
		  			{{errorChina}}
		  	</div>
	  	</ion-grid>

	  	<ion-grid class="listGrid" *ngIf="breakageType == 'glass'">
				<ion-row class="listRow" *ngFor="let glass of glassLists;let idx = index" (click)="selectBreakage(glass)">
		  		<ion-col col-3 col-xl-3 col-lg-3 class="listCol">
		  			<img src="{{glass.image}}" class="listImg">
		  		</ion-col>

		  		<ion-col col-9 col-xl-9 col-lg-9 class="listcol5">
		  			<b>{{glass.name}}</b>
		  		</ion-col>
		  	</ion-row>

		  	<div class="listDiv" *ngIf="glassArray.length <= 0">
		  			{{errorGlass}}
		  	</div>
	  	</ion-grid>


	  	<br/>
	  	<div>
	  		<ion-grid class="gridText">
		  		<ion-row>
						<ion-col>
							<ion-textarea placeholder="Reason for Breakage" class="textArea" [(ngModel)]="breakageReason" value="{{breakageReason}}"></ion-textarea>
						</ion-col>
					</ion-row>
				</ion-grid>
				<ion-grid>
					<ion-row class="rowData">
						<ion-col col-6 col-xl-6 *ngIf="breakageType == 'wine'">
							AMOUNT IN LITRES
							<br/>
							<ion-input type="number" placeholder="litres" class="inputC" [(ngModel)]="breakageLitres" value="{{breakageLitres}}"></ion-input>
						</ion-col>
						<ion-col col-6 col-xl-6 *ngIf="breakageType !== 'wine'">
							AMOUNT IN QUANTITY
							<br/>
							<ion-input type="number" placeholder="quantity" class="inputC" [(ngModel)]="breakageQuantity" value="{{breakageQuantity}}"></ion-input>
						</ion-col>
						<ion-col col-6 col-xl-6>
							DATE OF BREAKAGE
							<ion-item class="itemC">
						    <ion-datetime class="dateInput" displayFormat="DD/MM/YY" [(ngModel)]="dob" placeholder="{{dob}}"></ion-datetime>
		    				<ion-icon name="md-calendar" item-end class="iconP"></ion-icon>
							</ion-item>
						</ion-col>
					</ion-row>
				</ion-grid>
				<div class="error-message">
			    {{error}}
			  </div>
				<br/>
	  		<ion-item class="lastBtns">
		    	<button ion-button round class="cancelBtn" (click)="cancelNewBreakage()" item-end>CANCEL</button>
					<button ion-button round class="addBtn" (click)="addNewBreakage()" item-end>ADD</button>
			  </ion-item>
	  	</div>
  	</div>
  	
	</ion-grid>
	<div style="margin-top: 45px;height: 20px;"></div>
</ion-content>
